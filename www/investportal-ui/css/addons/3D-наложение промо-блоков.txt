CSS-код:

/* Псевдо в промо */

#promo > main.swiper-container .promo-feed .promoblock::before, #investsearch > main.swiper-container .popular-objects .popular-object::before{
    content: '';
    position: absolute;
}
#promo > main.swiper-container .promo-feed .promoblock::after, #investsearch > main.swiper-container .popular-objects .popular-object::after{
    content: '';
    position: absolute;
}


/*Внутрений див*/

#promo > main.swiper-container .promo-feed .promoblock::before{
    left: -304px;
}
#promo > main.swiper-container .promo-feed .promoblock::after{
    right: 390px;
    top: 15px;
}
#promo > main.swiper-container .promo-feed .promoblock::before, #promo > main.swiper-container .promo-feed .promoblock::after{
    width: 17%;
    float: right;
    position: relative;
    background-color: white;
    display: inline-table;
    
}
#promo > main.swiper-container .promo-feed .promoblock, #investsearch > main.swiper-container .popular-objects .popular-object{
    position: relative;
    z-index: 99;
    
}
#investsearch > main.swiper-container .popular-objects .popular-object::before{
    left: -246px;
    top: -26px;
}
#investsearch > main.swiper-container .popular-objects .popular-object::after{
    right: 326px;
    top: -9px;
}
@media all and (min-width:1024px) and (max-width: 1100px){
    #promo > main.swiper-container .promo-feed .promoblock::before {
        left: -170px;
    }
    #promo > main.swiper-container .promo-feed .promoblock::after {
        right: 223px;
        top: 15px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::before {
        left: -137px;
        top: -26px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::after {
        right: 433px;
        top: -9px;
    }
}
@media all and (min-width:1100px) and (max-width: 1181px){
    #promo > main.swiper-container .promo-feed .promoblock::before {
        left: -173px;
    }
    #promo > main.swiper-container .promo-feed .promoblock::after {
        right: 229px;
        top: 15px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::before {
        left: -148px;
        top: -26px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::after {
        right: 199px;
        top: -9px;
    }
}
@media all and (min-width:1181px) and (max-width: 1280px){
    #promo > main.swiper-container .promo-feed .promoblock::before {
        left: -183px;
    }
    #promo > main.swiper-container .promo-feed .promoblock::after {
        right: 240px;
        top: 15px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::before {
        left: 106px;
        top: -26px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::after {
        right: 219px;
        top: -9px;
    }
}
@media all and (min-width:1280px) and (max-width: 1366px){
    #promo > main.swiper-container .promo-feed .promoblock::before {
        left: -202px;
    }
    #promo > main.swiper-container .promo-feed .promoblock::after {
        right: 264px;
        top: 15px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::before {
        left: 128px;
        top: -26px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::after {
        right: 219px;
        top: -9px;
    }
}
@media all and (min-width:1366px) and (max-width: 1400px){
    #promo > main.swiper-container .promo-feed .promoblock::before {
        left: -212px;
    }
    #promo > main.swiper-container .promo-feed .promoblock::after {
        right: 278px;
        top: 18px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::before {
        left: -178px;
        top: -26px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::after {
        right: 239px;
        top: -9px;
    }
}
@media all and (min-width:1400px) and (max-width: 1600px){
    #promo > main.swiper-container .promo-feed .promoblock::before {
        left: 10vw;
    }
    #promo > main.swiper-container .promo-feed .promoblock::after {
        right: -5vw;
        top: 20px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::before {
        left: -206px;
        top: -26px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::after {
        right: 273px;
        top: -9px;
    }
}
@media all and (min-width:1600px) and (max-width: 1800px){
    #promo > main.swiper-container .promo-feed .promoblock::before {
        left: -257px;
    }
    #promo > main.swiper-container .promo-feed .promoblock::after {
        right: 331px;
        top: 15px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::before {
        left: -212px;
        top: -26px;
    }
    #investsearch > main.swiper-container .popular-objects .popular-object::after {
        right: 279px;
        top: -9px;
    }
}


JavaScript-код:

const PromoBlocksThreeDetals = () => {
    let promos = [$('#promo > main.swiper-container .promo-feed .promoblock'),$('main .popular-objects .popular-object')];
    let threed = $('#promo > main.swiper-container .promo-feed .promoblock::before, #promo > main.swiper-container .promo-feed .promoblock::after');


    for (let index = 0; index < promos.length; index++) {
        const el_size = promos[index];
        threed.height(el_size.height() - 40);  
    }

}
const PromoBlocksThreeDetalsAppend = () => {
    let promos = [$('#promo > main.swiper-container .promo-feed .promoblock'),$('main .popular-objects .popular-object')];


    for (let index = 0; index < promos.length; index++) {
        const el_size = promos[index];

        el_size.before('<div id="threedetal-left">&nbsp;</div>');
        el_size.after('<div id="threedetal-right">&nbsp;</div>');

    }
}
$(document).ready(function () {
    PromoBlocksThreeDetalsAppend();
    PromoBlocksThreeDetals();

    $(window).resize(PromoBlocksThreeDetals);

});